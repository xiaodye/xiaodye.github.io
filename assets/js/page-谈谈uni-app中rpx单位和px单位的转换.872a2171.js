(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{534:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"rpx单位的由来"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rpx单位的由来"}},[t._v("#")]),t._v(" rpx单位的由来")]),t._v(" "),a("p",[a("code",[t._v("rpx")]),t._v("单位最初由微信推出，它与我们常用"),a("code",[t._v("px")]),t._v("一个很大的区别就是"),a("strong",[t._v("具有响应式")]),t._v("，可以参考一下我们学"),a("code",[t._v("web开发")]),t._v("时用的"),a("code",[t._v("rem")]),t._v("、"),a("code",[t._v("vw")]),t._v("、"),a("code",[t._v("vh")]),t._v("等单位，再看看"),a("strong",[t._v("微信官方文档")]),t._v("对此的描述：")]),t._v(" "),a("p",[a("strong",[t._v("rpx（responsive pixel）")]),t._v(": 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。如在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素。")]),t._v(" "),a("p",[t._v("随着智能手机的发展，手机屏幕也越来越怪，不再是以前的"),a("strong",[t._v("16:9")]),t._v("，屏幕也是各种大小，这也更需要前端去做"),a("strong",[t._v("响应式")]),t._v("、"),a("strong",[t._v("自适应")]),t._v("来适配不同设备。所以也就会有像"),a("code",[t._v("rpx")]),t._v("这种响应式的单位出现。")]),t._v(" "),a("p",[a("code",[t._v("uni-app")]),t._v("之前是使用"),a("code",[t._v("upx")]),t._v("，后面也是改用了"),a("code",[t._v("rpx")]),t._v("，做了统一，详细的可以看看官方的公告："),a("a",{attrs:{href:"https://ask.dcloud.net.cn/article/36130",target:"_blank",rel:"noopener noreferrer"}},[t._v("推荐使用rpx替代upx的公告"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h2",{attrs:{id:"为什么要去转换单位"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么要去转换单位"}},[t._v("#")]),t._v(" 为什么要去转换单位")]),t._v(" "),a("p",[t._v("有人要问了，项目直接全用"),a("code",[t._v("rpx")]),t._v("单位就行了，为什么还要去转换单位呢？")]),t._v(" "),a("p",[t._v("其实这也是迫不得已，有些场景还是会有"),a("code",[t._v("px")]),t._v("单位的出现，比如说，调用"),a("code",[t._v("uni-app")]),t._v("中的"),a("code",[t._v("uni.getSystemInfoS\tync(OBJECT)")]),t._v("，这个api就是拿设备的信息的，可以拿到像我们常用的"),a("strong",[t._v("可使用窗口高度")]),a("code",[t._v("windowHeight")]),t._v("，屏幕宽高"),a("code",[t._v("screenWidth")]),t._v("、"),a("code",[t._v("screenHeight")]),t._v("等。拿到的是一个"),a("strong",[t._v("数值")]),t._v("，它用的就是"),a("strong",[t._v("px单位")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be961912453145489585042b178c6606~tplv-k3u1fbpfcp-zoom-1.image",alt:"image-20220405200845819",loading:"lazy"}})]),t._v(" "),a("p",[t._v("像我们为了自定义导航栏，去动态地算导航栏的高度，拿回来的也是"),a("code",[t._v("px")]),t._v("单位的数值，但项目中用的是"),a("code",[t._v("rpx")]),t._v("，这难免要有"),a("strong",[t._v("px数值和rpx数值之间的计算")]),t._v("，还有就是我们用的组件库，它的很多默认样式或设置都是"),a("code",[t._v("px")]),t._v("单位的数值，这个我们后面会说。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df9d3b345ae44fedaf923b0f2fbc0d18~tplv-k3u1fbpfcp-zoom-1.image",alt:"image-20220405212957564",loading:"lazy"}})]),t._v(" "),a("h2",{attrs:{id:"单位转换公式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#单位转换公式"}},[t._v("#")]),t._v(" 单位转换公式")]),t._v(" "),a("p",[t._v("说了这么一大堆，我们再来看看"),a("code",[t._v("rpx")]),t._v("和"),a("code",[t._v("px")]),t._v("有什么关系。")]),t._v(" "),a("p",[a("code",[t._v("rpx")]),t._v("单位规定如果在"),a("strong",[t._v("iPhone6")]),t._v("下，也就是屏幕宽度"),a("strong",[t._v("375px")]),t._v("，则")]),t._v(" "),a("ul",[a("li",[t._v("750rpx = 375px = 750物理像素")]),t._v(" "),a("li",[t._v("1rpx = 0.5px = 1物理像素")])]),t._v(" "),a("p",[t._v("这也是很多人推荐用"),a("strong",[t._v("iphone6")]),t._v("模拟开发的原因之一，单位转换很直观，就是"),a("strong",[t._v("2:1")]),t._v("，但是不是在所有设备上都是"),a("strong",[t._v("2:1")]),t._v("呢？曾经我也是怎么认为的，然后老出bug.....，其实这是有转化公式的，不是简简单单的"),a("strong",[t._v("2:1")]),t._v("。")]),t._v(" "),a("p",[t._v("总的来说，还是以"),a("code",[t._v("750")]),t._v("这个物理像素为基准")]),t._v(" "),a("ul",[a("li",[a("strong",[a("code",[t._v("px / rpx = screenWidth / 750")])])])]),t._v(" "),a("p",[t._v("然后我们就可以推出：")]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[a("code",[t._v("rpx = (750 * px) / screenWidth")])])])]),t._v(" "),a("li",[a("p",[a("strong",[a("code",[t._v("px = (screenWidth * rpx) / 750")])])])])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// rpx转px")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpxToPx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("rpx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" screenWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemInfoSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screenWidth\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("screenWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rpx"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("750")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// px转rpx")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pxToRpx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("px")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" screenWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemInfoSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screenWidth\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("750")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("px"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" screenWidth\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("h2",{attrs:{id:"uview中的单位转换问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uview中的单位转换问题"}},[t._v("#")]),t._v(" uView中的单位转换问题")]),t._v(" "),a("p",[a("code",[t._v("uView")]),t._v("这个组件库有不少的坑，有一个就是单位问题，"),a("code",[t._v("uView")]),t._v("中的很多"),a("strong",[t._v("配置")]),t._v("都是"),a("code",[t._v("px")]),t._v("单位的，这跟我们项目中"),a("code",[t._v("rpx")]),t._v("难免就会不协调，举个例子：像"),a("code",[t._v("u-icon")]),t._v("这个图标组件，他有个配置项可以设置大小，但是只能设置"),a("code",[t._v("px")]),t._v("单位。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1812ce2ca08b4d4ab443412bfa8a8379~tplv-k3u1fbpfcp-zoom-1.image",alt:"image-20220405210128918",loading:"lazy"}})]),t._v(" "),a("p",[t._v("这是在"),a("code",[t._v("iPad")]),t._v("模拟的，因为图标的大小单位是"),a("code",[t._v("px")]),t._v("，不是自适应单位，字体单位是"),a("code",[t._v("rpx")]),t._v("，可以自适应，这显得图标非常小，那么我们要怎么解决呢？")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6bf30f92eb5045988d9848300ce30f0f~tplv-k3u1fbpfcp-zoom-1.image",alt:"image-20220405205920657",loading:"lazy"}})]),t._v(" "),a("p",[t._v("当然，"),a("code",[t._v("uView")]),t._v("是可以更改"),a("code",[t._v("默认单位配置")]),t._v("，官方文档有教怎么"),a("a",{attrs:{href:"https://www.uviewui.com/components/setting.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("配置"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2022/04/07/cUf78C6LQaJW4Oj.png",alt:"image-20220407151022934",loading:"lazy"}})]),t._v(" "),a("p",[t._v("只不过产生了更难受的问题，像"),a("code",[t._v("u-loadmore")]),t._v("这个组件，加载图标变得非常的小，还没有配置项去改，还有"),a("code",[t._v("u-button")]),t._v("前置图标等等同样的问题，希望官方能尽快修复下。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2022/04/07/n7C1cAItxemB9rb.png",alt:"12313",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://s2.loli.net/2022/04/07/vXfskazA5eiT4KY.png",alt:"141414",loading:"lazy"}})]),t._v(" "),a("p",[a("strong",[t._v("第二种方法")]),t._v("就是自己根据需要去转换单位，"),a("code",[t._v("uView")]),t._v("也提供了相应的方法供我们去转换")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/360bbc12ae4d4d97840e61fe4fd77bfb~tplv-k3u1fbpfcp-zoom-1.image",alt:"image-20220405212257500",loading:"lazy"}})]),t._v(" "),a("p",[t._v("但我们手动去实现也是很简单的，我们就用我们上面封装的一个方法，然后在组件中使用它，我们传的是"),a("code",[t._v("rpx")]),t._v("数值，最终根据"),a("strong",[t._v("屏幕宽度")]),t._v("自适应地转换成对应"),a("code",[t._v("px")]),t._v("数值。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dc06e4b9ab984fecb6ac4f86b6630bbe~tplv-k3u1fbpfcp-zoom-1.image",alt:"image-20220405210849642",loading:"lazy"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f87cd8ae12d4443da2ccdb292ad1ed2c~tplv-k3u1fbpfcp-zoom-1.image",alt:"image-20220405210615913",loading:"lazy"}})]),t._v(" "),a("p",[t._v("效果是可以不管在哪台设备上，都能实现自适应大小。")]),t._v(" "),a("h2",{attrs:{id:"补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[t._v("#")]),t._v(" 补充")]),t._v(" "),a("p",[t._v("如果在项目中大量使用单位转换的话，像频繁使用"),a("code",[t._v("uView")]),t._v("中的组件，使用封装的单位转换方法，我们是可以考虑做一下优化的。")]),t._v(" "),a("p",[t._v("因为是"),a("code",[t._v("Vue2")]),t._v("项目嘛，我们可以采用"),a("code",[t._v("Vue")]),t._v("原型挂载或者"),a("code",[t._v("全局混入")]),t._v("，这里我们采用"),a("strong",[t._v("全局混入")]),t._v("。")]),t._v(" "),a("p",[a("strong",[a("code",[t._v("mixin.js")])]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" globalMixin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// rpx转px")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rpxToPx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("rpx")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" screenWidth "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" uni"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSystemInfoSync")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("screenWidth\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("rpx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" Number"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("screenWidth"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("750")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[a("strong",[a("code",[t._v("main.js")])]),t._v("：")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" globalMixin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@/mixin.js"')]),t._v("\nVue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mixin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("globalMixin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("然后，我们就可在项目中随意使用他们了。")]),t._v(" "),a("h2",{attrs:{id:"结语"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[t._v("#")]),t._v(" 结语")]),t._v(" "),a("p",[t._v("感谢读完本篇文章，希望对你能有所帮助，如有问题欢迎各位在评论区指正。")]),t._v(" "),a("p",[t._v("创作不易，希望点个赞支持一下❤️❤️。")])])}),[],!1,null,null,null);s.default=e.exports}}]);